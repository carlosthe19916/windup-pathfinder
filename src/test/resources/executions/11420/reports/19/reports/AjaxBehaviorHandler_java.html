<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Source Report for AjaxBehaviorHandler.java</title>
    <link href="resources/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="resources/css/font-awesome.min.css" rel="stylesheet" />
    <link href="resources/css/windup.css" rel="stylesheet" media="screen"/>
    <link rel="stylesheet" type="text/css" href="resources/libraries/snippet/jquery.snippet.min.css" />
    <link rel="stylesheet" type="text/css" href="resources/css/windup-source.css" />
    <link rel="stylesheet" type="text/css" href="resources/libraries/sausage/sausage.css" />
    <link rel="shortcut icon" href="resources/img/mta-icon.png" type="image/x-icon"/>
</head>
<body role="document" class="source-report">

    <div class="navbar navbar-inverse navbar-fixed-top" id="main-navbar" style="display: none">
        <div class="wu-navbar-header navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <span class="wu-navbar-header">
              <strong class="wu-navbar-header">Migration Toolkit for Applications</strong><img align="right" class="wu-navbar-header" src="resources/img/Logo-RedHat-A-Reverse-RGB.png" />
            </span>        </div>


                <div class="navbar-collapse collapse navbar-responsive-collapse project-specific" data-project-id="3547224">
    <ul class="nav navbar-nav">
            <li class="">
                <a href="../index.html"><i class="glyphicon glyphicon-home"></i> All Applications</a>
            </li>



                <li class="">
                    <a href="report_index_AdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon glyphicon-dashboard"></i>
                      Dashboard
                    </a>
                </li>


                <li class="">
                    <a href="migration_issues.2.html">
                        <i class="glyphicon glyphicon-warning-sign"></i>
                      Issues
                    </a>
                </li>


                <li class="">
                    <a href="ApplicationDetails_AdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon glyphicon-th-list"></i>
                      Application Details
                    </a>
                </li>


                <li class="">
                    <a href="techReport_AdministracionEfectivo_EAR_module.html">
                        <i class="fa fa-rocket"></i>
                      Technologies
                    </a>
                </li>


                <li class="">
                    <a href="dependency_graph_report.1.html">
                        <i class="glyphicon glyphicon-tree-deciduous"></i>
                      Dependencies Graph
                    </a>
                </li>


                <li class="">
                    <a href="dependency_report_AdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon glyphicon-retweet"></i>
                      Dependencies
                    </a>
                </li>


                <li class="">
                    <a href="Unparsable_AdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon glyphicon-warning-sign"></i>
                      Unparsable
                    </a>
                </li>


                <li class="">
                    <a href="ejbreport_AdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon ejb-nav-logo"></i>
                      EJBs
                    </a>
                </li>


                <li class="">
                    <a href="jpa_AdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon jpa-nav-logo"></i>
                      JPA
                    </a>
                </li>


                <li class="">
                    <a href="server_resources_AdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon server-resource-nav-logo"></i>
                      Server Resources
                    </a>
                </li>


                <li class="">
                    <a href="tattletale_AdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon tattletale-nav-logo"></i>
                      Tattletale
                    </a>
                </li>


                <li class="">
                    <a href="hardcoded_ipsAdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon glyphicon-map-marker"></i>
                      Hard-coded IP Addresses
                    </a>
                </li>


                <li class="">
                    <a href="ignoredfiles_AdministracionEfectivo_EAR_module.html">
                        <i class="glyphicon glyphicon-eye-close"></i>
                      Ignored Files
                    </a>
                </li>


                <li class="">
                    <a href="about_AdministracionEfectivo_EAR_module.html">
                        <i class="fa fa-question-circle"></i>
                      About
                    </a>
                </li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
<li>
    <a href="#" class="feedback-nav-btn jiraFeedbackTrigger"><i class="glyphicon glyphicon-comment"></i> Send Feedback </a>
</li>


    <script type="text/javascript" src="https://issues.jboss.org/s/f215932e68571747ac58d0f5d554396f-T/en_US-r7luaf/6346/82/1.4.16/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&amp;collectorId=8b9e338b"></script>

    <script type="text/javascript">

    var FEEDBACK_JS_ADDED = false;
    var FEEDBACK_FORM_TRIGGER = null;

    function displayFeedbackForm() {
        FEEDBACK_FORM_TRIGGER();
    }

    window.ATL_JQ_PAGE_PROPS = {
        "triggerFunction": function(showCollectorDialog) {
            FEEDBACK_FORM_TRIGGER = showCollectorDialog;
        }
    };

    document.addEventListener("DOMContentLoaded", function(event) {
            jQuery(".jiraFeedbackTrigger").click(function(e) {
                e.preventDefault();
                displayFeedbackForm();
            });
    });
    </script>
    </ul>
                </div><!-- /.nav-collapse -->
    </div>


    <div class="container-fluid" role="main">
        <div class="row">
            <div class="page-header page-header-no-border">
                <h1>
                    <div class="main">Source Report
                    <i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement=right title="This report displays what Migration Toolkit for Applications by Red Hat found in individual files. Each item is shown below the line it was found on, and next to it, you may find a link to the rule which it was found by."></i></div>

                        <div class="path project-specific" data-project-id="3547224">
                            AdministracionEfectivo.ear/AdministracionEfectivo-web-0.0.1-SNAPSHOT.war/WEB-INF/lib/primefaces-3.5.jar/org/primefaces/component/behavior/ajax/AjaxBehaviorHandler.java
                        </div>
                </h1>
            </div>
        </div>

        <div class="row">
            <div class="container-fluid theme-showcase" role="main">

                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h3 class="panel-title">Information</h3>
                    </div>
                    <div class="panel-body" style="overflow: auto;">

                        <!--<div style="height: 120pt; float:left;"></div> Keeps the minimal height. -->
                        <div class="points" style="text-align: center; color: #00254b; padding-bottom: 1ex;">
                            <div class="number">1</div>
                            <div>Story Points</div>
                        </div>

                        <div class="info" style="margin-left: 95pt;">


                                <h4>Technologies</h4>
                                <div class="technologies" style="overflow: auto"><!-- "auto" to contain all the tags. -->
                                        <span class="label label-info" title="INFORMATIONAL">Decompiled Java File</span>
                                        <span class="label label-info" title="jsf">jsf</span>
                                </div>



                            <div style="clear: both;"/><!-- Snaps under the height keeper. Yes, the same effect could be achieved by a table. -->
                        </div><!-- .info -->
                    </div>
                </div>



                <pre id="source">
package org.primefaces.component.behavior.ajax;

import java.beans.BeanDescriptor;
import java.beans.BeanInfo;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import javax.el.MethodExpression;
import javax.faces.application.Application;
import javax.faces.component.UIComponent;
import javax.faces.component.behavior.ClientBehaviorHolder;
import javax.faces.context.FacesContext;
import javax.faces.event.AjaxBehaviorEvent;
import javax.faces.view.AttachedObjectHandler;
import javax.faces.view.AttachedObjectTarget;
import javax.faces.view.BehaviorHolderAttachedObjectHandler;
import javax.faces.view.BehaviorHolderAttachedObjectTarget;
import javax.faces.view.facelets.BehaviorConfig;
import javax.faces.view.facelets.ComponentHandler;
import javax.faces.view.facelets.FaceletContext;
import javax.faces.view.facelets.TagAttribute;
import javax.faces.view.facelets.TagException;
import javax.faces.view.facelets.TagHandler;

public class AjaxBehaviorHandler extends TagHandler implements BehaviorHolderAttachedObjectHandler {
   private final TagAttribute event = this.getAttribute(&quot;event&quot;);
   private final TagAttribute process = this.getAttribute(&quot;process&quot;);
   private final TagAttribute update = this.getAttribute(&quot;update&quot;);
   private final TagAttribute onstart = this.getAttribute(&quot;onstart&quot;);
   private final TagAttribute onerror = this.getAttribute(&quot;onerror&quot;);
   private final TagAttribute onsuccess = this.getAttribute(&quot;onsuccess&quot;);
   private final TagAttribute oncomplete = this.getAttribute(&quot;oncomplete&quot;);
   private final TagAttribute disabled = this.getAttribute(&quot;disabled&quot;);
   private final TagAttribute immediate = this.getAttribute(&quot;immediate&quot;);
   private final TagAttribute listener = this.getAttribute(&quot;listener&quot;);
   private final TagAttribute global = this.getAttribute(&quot;global&quot;);
   private final TagAttribute async = this.getAttribute(&quot;async&quot;);
   private final TagAttribute partialSubmit = this.getAttribute(&quot;partialSubmit&quot;);

   public AjaxBehaviorHandler(BehaviorConfig config) {
      super(config);
   }

   public void apply(FaceletContext ctx, UIComponent parent) throws IOException {
      if (ComponentHandler.isNew(parent)) {
         String eventName = this.getEventName();
         if (UIComponent.isCompositeComponent(parent)) {
            boolean tagApplied = false;
            if (parent instanceof ClientBehaviorHolder) {
               this.applyAttachedObject(ctx, parent, eventName);
               tagApplied = true;
            }

            BeanInfo componentBeanInfo = (BeanInfo)parent.getAttributes().get(&quot;javax.faces.component.BEANINFO_KEY&quot;);
            if (null == componentBeanInfo) {
               throw new TagException(this.tag, &quot;Composite component does not have BeanInfo attribute&quot;);
            }

            BeanDescriptor componentDescriptor = componentBeanInfo.getBeanDescriptor();
            if (null == componentDescriptor) {
               throw new TagException(this.tag, &quot;Composite component BeanInfo does not have BeanDescriptor&quot;);
            }

            List&lt;AttachedObjectTarget&gt; targetList = (List)componentDescriptor.getValue(&quot;javax.faces.view.AttachedObjectTargets&quot;);
            if (null == targetList &amp;&amp; !tagApplied) {
               throw new TagException(this.tag, &quot;Composite component does not support behavior events&quot;);
            }

            boolean supportedEvent = false;
            Iterator i$ = targetList.iterator();

            label63: {
               BehaviorHolderAttachedObjectTarget behaviorTarget;
               do {
                  AttachedObjectTarget target;
                  do {
                     if (!i$.hasNext()) {
                        break label63;
                     }

                     target = (AttachedObjectTarget)i$.next();
                  } while(!(target instanceof BehaviorHolderAttachedObjectTarget));

                  behaviorTarget = (BehaviorHolderAttachedObjectTarget)target;
               } while((null == eventName || !eventName.equals(behaviorTarget.getName())) &amp;&amp; (null != eventName || !behaviorTarget.isDefaultEvent()));

               supportedEvent = true;
            }

            if (supportedEvent) {
               this.getAttachedObjectHandlers(parent).add(this);
            } else if (!tagApplied) {
               throw new TagException(this.tag, &quot;Composite component does not support event &quot; + eventName);
            }
         } else {
            if (!(parent instanceof ClientBehaviorHolder)) {
               throw new TagException(this.tag, &quot;Unable to attach &lt;p:ajax&gt; to non-ClientBehaviorHolder parent&quot;);
            }

            this.applyAttachedObject(ctx, parent, eventName);
         }

      }
   }

   public String getEventName() {
      return this.event != null ? this.event.getValue() : null;
   }

   public void applyAttachedObject(FaceletContext context, UIComponent component, String eventName) {
      ClientBehaviorHolder holder = (ClientBehaviorHolder)component;
      if (null == eventName) {
         eventName = holder.getDefaultEventName();
         if (null == eventName) {
            throw new TagException(this.tag, &quot;Event attribute could not be determined: &quot; + eventName);
         }
      } else {
         Collection&lt;String&gt; eventNames = holder.getEventNames();
         if (!eventNames.contains(eventName)) {
            throw new TagException(this.tag, &quot;Event:&quot; + eventName + &quot; is not supported.&quot;);
         }
      }

      AjaxBehavior ajaxBehavior = this.createAjaxBehavior(context, eventName);
      holder.addClientBehavior(eventName, ajaxBehavior);
   }

   private AjaxBehavior createAjaxBehavior(FaceletContext ctx, String eventName) {
      Application application = ctx.getFacesContext().getApplication();
      AjaxBehavior behavior = (AjaxBehavior)application.createBehavior(&quot;org.primefaces.component.AjaxBehavior&quot;);
      this.setBehaviorAttribute(ctx, behavior, this.process, String.class);
      this.setBehaviorAttribute(ctx, behavior, this.update, String.class);
      this.setBehaviorAttribute(ctx, behavior, this.onstart, String.class);
      this.setBehaviorAttribute(ctx, behavior, this.onerror, String.class);
      this.setBehaviorAttribute(ctx, behavior, this.onsuccess, String.class);
      this.setBehaviorAttribute(ctx, behavior, this.oncomplete, String.class);
      this.setBehaviorAttribute(ctx, behavior, this.disabled, Boolean.class);
      this.setBehaviorAttribute(ctx, behavior, this.immediate, Boolean.class);
      this.setBehaviorAttribute(ctx, behavior, this.global, Boolean.class);
      this.setBehaviorAttribute(ctx, behavior, this.async, Boolean.class);
      this.setBehaviorAttribute(ctx, behavior, this.partialSubmit, Boolean.class);
      this.setBehaviorAttribute(ctx, behavior, this.listener, MethodExpression.class);
      if (this.listener != null) {
         behavior.addAjaxBehaviorListener(new AjaxBehaviorListenerImpl(this.listener.getMethodExpression(ctx, Object.class, new Class[0]), this.listener.getMethodExpression(ctx, Object.class, new Class[]{AjaxBehaviorEvent.class})));
      }

      return behavior;
   }

   public String getFor() {
      return null;
   }

   public void applyAttachedObject(FacesContext context, UIComponent parent) {
      FaceletContext ctx = (FaceletContext)context.getAttributes().get(&quot;com.sun.faces.facelets.FACELET_CONTEXT&quot;);
      this.applyAttachedObject(ctx, parent, this.getEventName());
   }

   private void setBehaviorAttribute(FaceletContext ctx, AjaxBehavior behavior, TagAttribute attr, Class type) {
      if (attr != null) {
         behavior.setValueExpression(attr.getLocalName(), attr.getValueExpression(ctx, type));
      }

   }

   public List&lt;AttachedObjectHandler&gt; getAttachedObjectHandlers(UIComponent component) {
      return this.getAttachedObjectHandlers(component, true);
   }

   public List&lt;AttachedObjectHandler&gt; getAttachedObjectHandlers(UIComponent component, boolean create) {
      Map&lt;String, Object&gt; attrs = component.getAttributes();
      List&lt;AttachedObjectHandler&gt; result = (List)attrs.get(&quot;javax.faces.RetargetableHandlers&quot;);
      if (result == null) {
         if (create) {
            result = new ArrayList();
            attrs.put(&quot;javax.faces.RetargetableHandlers&quot;, result);
         } else {
            result = Collections.EMPTY_LIST;
         }
      }

      return (List)result;
   }
}
</pre>
            </div> <!-- /container -->
        </div><!-- /row-->
    </div><!-- /container main-->


<div style="text-align: left; font-size: small; color: gray; font-style: italic;">Page generated: Nov 26, 2020 8:41:09 AM</div>
    <script src="resources/js/jquery-3.3.1.min.js"></script>
    <script src="resources/js/jquery-migrate-1.4.1.min.js"></script>
    <script src="resources/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="resources/libraries/jquery-ui/jquery.ui.widget.js"></script>
    <script type="text/javascript" src="resources/libraries/snippet/jquery.snippet.min.js"></script>
    <script type="text/javascript" src="resources/libraries/snippet/jquery.snippet.java-properties.js"></script>
    <script type="text/javascript" src="resources/libraries/snippet/jquery.snippet.java-manifest.js"></script>
    <script type="text/javascript" src="resources/libraries/sausage/jquery.sausage.min.js"></script>

    <script type="text/javascript">
        var script   = document.createElement("script");
        script.type  = "text/javascript";
            script.src   = "resources/js/navbar.js";
        document.body.appendChild(script);
    </script>

    <script type="text/javascript">
        $(window).on("hashchange", function () {
            window.scrollTo(window.scrollX, window.scrollY - 50);
        });
        function offsetAnchor() {
            if(location.hash.length !== 0) {
                window.scrollTo(window.scrollX, window.scrollY - 50);
            }
        }
        window.setTimeout(function() {
            offsetAnchor();
        }, 1);
        $(document).ready(function(){
            $("pre").snippet("java",{style:"ide-eclipse", showNum:true,boxFill:"#ffeeb9", box: "159" });

            $("<div id='159-inlines' class='inline-source-hint-group'/>").appendTo('ol.snippet-num li:nth-child(159)');


$("<a name='7004376' class='windup-file-location'></a><div class='inline-source-comment green tag-jsf'><div class='inline-comment'><div class='inline-comment-heading'><strong class='notification warning'>JSF FaceletContext.FACELET_CONTEXT_KEY changed value</strong><a title='View Rule: eap6-11000' href='windup_ruleproviders.html#eap6-11000'><span class='glyphicon glyphicon-link rule-link floatRight'></span></a></div><div class='inline-comment-body'><p>The value of JSF constant <code>FaceletContext.FACELET_CONTEXT_KEY<\/code> has changed between JSF 2.1 and 2.2. The variable is a compile-time constant expression, so when the program was originally compiled, the reference to <code>FACELET_CONTEXT_KEY<\/code> was replaced by its value during compilation. The application must be recompiled so that the reference to <code>FACELET_CONTEXT_KEY<\/code> is replaced by its new value.<\/p><ul><li><a href='https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/single/migration_guide/#compatibility_issue_between_jsf_2_1_and_jsf_2_2' target='_blank'>Compatibility Issue Between JSF 2.1 and JSF 2.2</a></li><li><a href='https://java.net/jira/browse/JAVASERVERFACES_SPEC_PUBLIC-1257' target='_blank'>JAVASERVERFACES_SPEC_PUBLIC-1257</a></li></ul></div></div></div>").appendTo('#159-inlines');


            $('code[class]').each(function(){
                 var codeSyntax = ($(this).attr('class'));
                 if(codeSyntax) {
                    $(this).parent().snippet(codeSyntax,{style:'ide-eclipse', menu:false, showNum:false});
                 }
            });
            $(window).sausage({ page: 'li.box' });
            $(window).resize(function () {
                $('div.sausage-set').css('top', parseInt($('#main-navbar').css("height")));
            });

            // Deprecated
            // $(window).load(function () {
            //     $('div.sausage-set').css('top', parseInt($('#main-navbar').css("height")));
            // });
            $(window).on('load', function () {
                $('div.sausage-set').css('top', parseInt($('#main-navbar').css("height")));
            });
        });

        function qs(key) {
            key = key.replace(/[*+?^$.\[\]{}()|\\\/]/g, "\\$&"); // escape RegEx meta chars
            var match = location.search.match(new RegExp("[?&]"+key+"=([^&]+)(&|$)"));
            return match && decodeURIComponent(match[1].replace(/\+/g, " "));
        }

        $(document).ready(function() {
            var defaultProjectID = 3547224;
            var selectedProject = qs("project");
            if (!selectedProject)
                selectedProject = defaultProjectID;

            $(".project-specific").each(function(index, element) {
                var currentProject = $(element).data("project-id");

                if (currentProject == selectedProject)
                    $(element).show();
                else
                    $(element).remove();
            });
            $("#main-navbar").show();
        });
    </script>
    <script>$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();});</script>
</body>
</html>
